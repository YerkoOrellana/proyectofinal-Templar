(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[738],{4493:(e,s,r)=>{"use strict";r.d(s,{default:()=>c});var a=r(5155),t=r(2115),n=r(6874),o=r.n(n),l=r(5695);function c(){let e=(0,l.useRouter)(),[s,r]=(0,t.useState)({name:"",email:"",password:"",confirmPassword:"",acceptTerms:!1}),[n,c]=(0,t.useState)({name:"",email:"",password:"",confirmPassword:"",acceptTerms:""}),[i,d]=(0,t.useState)(!1),m=e=>{let{name:s,value:a,type:t,checked:o}=e.target;r(e=>({...e,[s]:"checkbox"===t?o:a})),n[s]&&c(e=>({...e,[s]:""}))},u=()=>{let e=!0,r={name:"",email:"",password:"",confirmPassword:"",acceptTerms:""};return s.name.trim()||(r.name="El nombre es requerido",e=!1),s.email?/\S+@\S+\.\S+/.test(s.email)||(r.email="El email no es v\xe1lido",e=!1):(r.email="El email es requerido",e=!1),s.password?s.password.length<6&&(r.password="La contrase\xf1a debe tener al menos 6 caracteres",e=!1):(r.password="La contrase\xf1a es requerida",e=!1),s.password!==s.confirmPassword&&(r.confirmPassword="Las contrase\xf1as no coinciden",e=!1),s.acceptTerms||(r.acceptTerms="Debes aceptar los t\xe9rminos y condiciones",e=!1),c(r),e},p=async s=>{if(s.preventDefault(),u()){d(!0);try{await new Promise(e=>setTimeout(e,1500)),e.push("/login")}catch(e){console.error("Error al registrar usuario:",e),alert("Error al crear la cuenta. Por favor, intenta nuevamente.")}finally{d(!1)}}};return(0,a.jsxs)("form",{onSubmit:p,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium mb-1",children:"Nombre completo"}),(0,a.jsx)("input",{id:"name",name:"name",type:"text",autoComplete:"name",value:s.name,onChange:m,className:"w-full px-3 py-2 border ".concat(n.name?"border-red-500":"border-gray-300"," rounded-md focus:outline-none focus:ring-1 focus:ring-black")}),n.name&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-500",children:n.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:"Email"}),(0,a.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:s.email,onChange:m,className:"w-full px-3 py-2 border ".concat(n.email?"border-red-500":"border-gray-300"," rounded-md focus:outline-none focus:ring-1 focus:ring-black")}),n.email&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-500",children:n.email})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium mb-1",children:"Contrase\xf1a"}),(0,a.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",value:s.password,onChange:m,className:"w-full px-3 py-2 border ".concat(n.password?"border-red-500":"border-gray-300"," rounded-md focus:outline-none focus:ring-1 focus:ring-black")}),n.password&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-500",children:n.password})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium mb-1",children:"Confirmar contrase\xf1a"}),(0,a.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",value:s.confirmPassword,onChange:m,className:"w-full px-3 py-2 border ".concat(n.confirmPassword?"border-red-500":"border-gray-300"," rounded-md focus:outline-none focus:ring-1 focus:ring-black")}),n.confirmPassword&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-500",children:n.confirmPassword})]}),(0,a.jsxs)("div",{className:"flex items-start",children:[(0,a.jsx)("input",{id:"acceptTerms",name:"acceptTerms",type:"checkbox",checked:s.acceptTerms,onChange:m,className:"h-4 w-4 border-gray-300 rounded mt-1"}),(0,a.jsxs)("label",{htmlFor:"acceptTerms",className:"ml-2 block text-sm",children:["Acepto los"," ",(0,a.jsx)(o(),{href:"/terminos",className:"underline",children:"t\xe9rminos y condiciones"})," ","y la"," ",(0,a.jsx)(o(),{href:"/privacidad",className:"underline",children:"pol\xedtica de privacidad"})]})]}),n.acceptTerms&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-500",children:n.acceptTerms}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",disabled:i,className:"w-full bg-black text-white py-2 px-4 rounded-md hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-black disabled:bg-gray-400 disabled:cursor-not-allowed",children:i?"Creando cuenta...":"Crear cuenta"})}),(0,a.jsxs)("div",{className:"text-center text-sm",children:["\xbfYa tienes una cuenta?"," ",(0,a.jsx)(o(),{href:"/login",className:"font-medium hover:underline",children:"Inicia sesi\xf3n"})]})]})}},6515:(e,s,r)=>{"use strict";r.d(s,{CartProvider:()=>l,_:()=>o});var a=r(5155),t=r(2115);let n=(0,t.createContext)(void 0);function o(){let e=(0,t.useContext)(n);if(void 0===e)throw Error("useCart debe ser usado dentro de un CartProvider");return e}function l(e){let{children:s}=e,[r,o]=(0,t.useState)([]);(0,t.useEffect)(()=>{let e=localStorage.getItem("cart");if(e)try{let s=JSON.parse(e);Array.isArray(s)?o(s):console.warn("El carrito guardado no tiene el formato esperado.")}catch(e){console.error("Error al cargar el carrito:",e)}},[]),(0,t.useEffect)(()=>{localStorage.setItem("cart",JSON.stringify(r))},[r]);let l=r.reduce((e,s)=>e+s.quantity,0),c=r.reduce((e,s)=>e+s.product.price*s.quantity,0),i=e=>{o(s=>s.filter(s=>s.product.id!==e))};return(0,a.jsx)(n.Provider,{value:{items:r,totalItems:l,totalPrice:c,addToCart:function(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;o(r=>{let a=r.findIndex(s=>s.product.id===e.id);if(!(a>=0))return[...r,{product:e,quantity:s}];{let e=[...r];return e[a].quantity+=s,e}})},removeFromCart:i,updateQuantity:(e,s)=>{if(s<=0){i(e);return}o(r=>r.map(r=>r.product.id===e?{...r,quantity:s}:r))},clearCart:()=>{o([])}},children:s})}},7969:(e,s,r)=>{"use strict";r.d(s,{default:()=>p});var a=r(5155),t=r(2115),n=r(6874),o=r.n(n),l=r(5695),c=r(7809),i=r(7924),d=r(4416),m=r(4783),u=r(6515);function p(){let[e,s]=(0,t.useState)(!1),[r,n]=(0,t.useState)(""),p=(0,l.usePathname)(),{totalItems:h,totalPrice:x}=(0,u._)(),f=e=>{e.preventDefault(),console.log("Buscando: ".concat(r))},b=[{name:"Productos",href:"/productos"},{name:"Info",href:"/info"},{name:"Login",href:"/login"},{name:"Registrarse",href:"/registro"},{name:"Contacto",href:"/contacto"}];return(0,a.jsx)("header",{className:"border-b border-gray-200",children:(0,a.jsxs)("div",{className:"container mx-auto px-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,a.jsx)(o(),{href:"/",className:"flex items-center space-x-2",children:(0,a.jsx)("img",{src:"/assets/logo/Recurso_22x.png",alt:"Templar Logo",className:"h-8 w-auto"})}),(0,a.jsxs)(o(),{href:"/carrito",className:"flex items-center",children:[(0,a.jsx)(c.A,{className:"h-5 w-5 mr-2"}),(0,a.jsx)("span",{className:"mr-2",children:h})," ",(0,a.jsx)("span",{children:"|"}),(0,a.jsxs)("span",{className:"ml-2",children:["$",x.toLocaleString("es-CL")]})," "]})]}),(0,a.jsxs)("nav",{className:"hidden md:flex justify-between items-center py-4",children:[(0,a.jsx)("ul",{className:"flex space-x-8",children:b.map(e=>(0,a.jsx)("li",{children:(0,a.jsx)(o(),{href:e.href,className:"text-sm uppercase tracking-wider ".concat(p===e.href?"font-semibold":""),children:e.name})},e.name))}),(0,a.jsxs)("form",{onSubmit:f,className:"relative",children:[(0,a.jsx)("input",{type:"text",placeholder:"Buscar",value:r,onChange:e=>n(e.target.value),className:"py-1 pl-2 pr-8 border-b border-black focus:outline-none text-sm w-40"}),(0,a.jsx)("button",{type:"submit",className:"absolute right-0 top-1/2 transform -translate-y-1/2",children:(0,a.jsx)(i.A,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("div",{className:"md:hidden flex justify-between items-center py-4",children:[(0,a.jsx)("button",{onClick:()=>s(!e),"aria-label":"Toggle menu",children:e?(0,a.jsx)(d.A,{className:"h-6 w-6"}):(0,a.jsx)(m.A,{className:"h-6 w-6"})}),(0,a.jsxs)("form",{onSubmit:f,className:"relative",children:[(0,a.jsx)("input",{type:"text",placeholder:"Buscar",value:r,onChange:e=>n(e.target.value),className:"py-1 pl-2 pr-8 border-b border-black focus:outline-none text-sm w-32"}),(0,a.jsx)("button",{type:"submit",className:"absolute right-0 top-1/2 transform -translate-y-1/2",children:(0,a.jsx)(i.A,{className:"h-4 w-4"})})]})]}),e&&(0,a.jsx)("div",{className:"md:hidden py-4 border-t border-gray-200",children:(0,a.jsx)("ul",{className:"space-y-4",children:b.map(e=>(0,a.jsx)("li",{children:(0,a.jsx)(o(),{href:e.href,className:"block text-sm uppercase tracking-wider ".concat(p===e.href?"font-semibold":""),onClick:()=>s(!1),children:e.name})},e.name))})})]})})}},9466:(e,s,r)=>{Promise.resolve().then(r.bind(r,7969)),Promise.resolve().then(r.bind(r,4493)),Promise.resolve().then(r.t.bind(r,6874,23))}},e=>{var s=s=>e(e.s=s);e.O(0,[721,441,684,358],()=>s(9466)),_N_E=e.O()}]);