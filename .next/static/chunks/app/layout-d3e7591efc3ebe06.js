(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{2556:(e,r,t)=>{Promise.resolve().then(t.bind(t,6515)),Promise.resolve().then(t.t.bind(t,9840,23)),Promise.resolve().then(t.t.bind(t,9324,23))},6515:(e,r,t)=>{"use strict";t.d(r,{CartProvider:()=>l,_:()=>i});var a=t(5155),o=t(2115);let n=(0,o.createContext)(void 0);function i(){let e=(0,o.useContext)(n);if(void 0===e)throw Error("useCart debe ser usado dentro de un CartProvider");return e}function l(e){let{children:r}=e,[t,i]=(0,o.useState)([]);(0,o.useEffect)(()=>{let e=localStorage.getItem("cart");if(e)try{let r=JSON.parse(e);Array.isArray(r)?i(r):console.warn("El carrito guardado no tiene el formato esperado.")}catch(e){console.error("Error al cargar el carrito:",e)}},[]),(0,o.useEffect)(()=>{localStorage.setItem("cart",JSON.stringify(t))},[t]);let l=t.reduce((e,r)=>e+r.quantity,0),d=t.reduce((e,r)=>e+r.product.price*r.quantity,0),c=e=>{i(r=>r.filter(r=>r.product.id!==e))};return(0,a.jsx)(n.Provider,{value:{items:t,totalItems:l,totalPrice:d,addToCart:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;i(t=>{let a=t.findIndex(r=>r.product.id===e.id);if(!(a>=0))return[...t,{product:e,quantity:r}];{let e=[...t];return e[a].quantity+=r,e}})},removeFromCart:c,updateQuantity:(e,r)=>{if(r<=0){c(e);return}i(t=>t.map(t=>t.product.id===e?{...t,quantity:r}:t))},clearCart:()=>{i([])}},children:r})}},9324:()=>{},9840:e=>{e.exports={style:{fontFamily:"'Inter', 'Inter Fallback'",fontStyle:"normal"},className:"__className_d65c78"}}},e=>{var r=r=>e(e.s=r);e.O(0,[385,441,684,358],()=>r(2556)),_N_E=e.O()}]);