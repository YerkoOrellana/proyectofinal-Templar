(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{748:(e,r,s)=>{"use strict";s.d(r,{default:()=>i});var a=s(5155),t=s(2115),l=s(6874),n=s.n(l),o=s(5695);function i(){let e=(0,o.useRouter)(),[r,s]=(0,t.useState)({email:"",password:"",remember:!1}),[l,i]=(0,t.useState)({email:"",password:""}),[c,d]=(0,t.useState)(!1),m=e=>{let{name:r,value:a,type:t,checked:n}=e.target;s(e=>({...e,[r]:"checkbox"===t?n:a})),l[r]&&i(e=>({...e,[r]:""}))},u=()=>{let e=!0,s={email:"",password:""};return r.email?/\S+@\S+\.\S+/.test(r.email)||(s.email="El email no es v\xe1lido",e=!1):(s.email="El email es requerido",e=!1),r.password?r.password.length<6&&(s.password="La contrase\xf1a debe tener al menos 6 caracteres",e=!1):(s.password="La contrase\xf1a es requerida",e=!1),i(s),e},h=async r=>{if(r.preventDefault(),u()){d(!0);try{await new Promise(e=>setTimeout(e,1500)),e.push("/")}catch(e){console.error("Error al iniciar sesi\xf3n:",e),alert("Credenciales incorrectas. Por favor, intenta nuevamente.")}finally{d(!1)}}};return(0,a.jsxs)("form",{onSubmit:h,className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:"Email"}),(0,a.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:r.email,onChange:m,className:"w-full px-3 py-2 border ".concat(l.email?"border-red-500":"border-gray-300"," rounded-md focus:outline-none focus:ring-1 focus:ring-black")}),l.email&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-500",children:l.email})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium mb-1",children:"Contrase\xf1a"}),(0,a.jsx)(n(),{href:"/recuperar-password",className:"text-xs hover:underline",children:"\xbfOlvidaste tu contrase\xf1a?"})]}),(0,a.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",value:r.password,onChange:m,className:"w-full px-3 py-2 border ".concat(l.password?"border-red-500":"border-gray-300"," rounded-md focus:outline-none focus:ring-1 focus:ring-black")}),l.password&&(0,a.jsx)("p",{className:"mt-1 text-sm text-red-500",children:l.password})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("input",{id:"remember",name:"remember",type:"checkbox",checked:r.remember,onChange:m,className:"h-4 w-4 border-gray-300 rounded"}),(0,a.jsx)("label",{htmlFor:"remember",className:"ml-2 block text-sm",children:"Recordarme"})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{type:"submit",disabled:c,className:"w-full bg-black text-white py-2 px-4 rounded-md hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-black disabled:bg-gray-400 disabled:cursor-not-allowed",children:c?"Iniciando sesi\xf3n...":"Iniciar sesi\xf3n"})}),(0,a.jsxs)("div",{className:"text-center text-sm",children:["\xbfNo tienes una cuenta?"," ",(0,a.jsx)(n(),{href:"/registro",className:"font-medium hover:underline",children:"Reg\xedstrate"})]})]})}},6515:(e,r,s)=>{"use strict";s.d(r,{CartProvider:()=>o,_:()=>n});var a=s(5155),t=s(2115);let l=(0,t.createContext)(void 0);function n(){let e=(0,t.useContext)(l);if(void 0===e)throw Error("useCart debe ser usado dentro de un CartProvider");return e}function o(e){let{children:r}=e,[s,n]=(0,t.useState)([]);(0,t.useEffect)(()=>{let e=localStorage.getItem("cart");if(e)try{let r=JSON.parse(e);Array.isArray(r)?n(r):console.warn("El carrito guardado no tiene el formato esperado.")}catch(e){console.error("Error al cargar el carrito:",e)}},[]),(0,t.useEffect)(()=>{localStorage.setItem("cart",JSON.stringify(s))},[s]);let o=s.reduce((e,r)=>e+r.quantity,0),i=s.reduce((e,r)=>e+r.product.price*r.quantity,0),c=e=>{n(r=>r.filter(r=>r.product.id!==e))};return(0,a.jsx)(l.Provider,{value:{items:s,totalItems:o,totalPrice:i,addToCart:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;n(s=>{let a=s.findIndex(r=>r.product.id===e.id);if(!(a>=0))return[...s,{product:e,quantity:r}];{let e=[...s];return e[a].quantity+=r,e}})},removeFromCart:c,updateQuantity:(e,r)=>{if(r<=0){c(e);return}n(s=>s.map(s=>s.product.id===e?{...s,quantity:r}:s))},clearCart:()=>{n([])}},children:r})}},7969:(e,r,s)=>{"use strict";s.d(r,{default:()=>h});var a=s(5155),t=s(2115),l=s(6874),n=s.n(l),o=s(5695),i=s(7809),c=s(7924),d=s(4416),m=s(4783),u=s(6515);function h(){let[e,r]=(0,t.useState)(!1),[s,l]=(0,t.useState)(""),h=(0,o.usePathname)(),{totalItems:x,totalPrice:p}=(0,u._)(),f=e=>{e.preventDefault(),console.log("Buscando: ".concat(s))},b=[{name:"Productos",href:"/productos"},{name:"Info",href:"/info"},{name:"Login",href:"/login"},{name:"Registrarse",href:"/registro"},{name:"Contacto",href:"/contacto"}];return(0,a.jsx)("header",{className:"border-b border-gray-200",children:(0,a.jsxs)("div",{className:"container mx-auto px-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center py-4",children:[(0,a.jsx)(n(),{href:"/",className:"flex items-center space-x-2",children:(0,a.jsx)("img",{src:"/assets/logo/Recurso_22x.png",alt:"Templar Logo",className:"h-8 w-auto"})}),(0,a.jsxs)(n(),{href:"/carrito",className:"flex items-center",children:[(0,a.jsx)(i.A,{className:"h-5 w-5 mr-2"}),(0,a.jsx)("span",{className:"mr-2",children:x})," ",(0,a.jsx)("span",{children:"|"}),(0,a.jsxs)("span",{className:"ml-2",children:["$",p.toLocaleString("es-CL")]})," "]})]}),(0,a.jsxs)("nav",{className:"hidden md:flex justify-between items-center py-4",children:[(0,a.jsx)("ul",{className:"flex space-x-8",children:b.map(e=>(0,a.jsx)("li",{children:(0,a.jsx)(n(),{href:e.href,className:"text-sm uppercase tracking-wider ".concat(h===e.href?"font-semibold":""),children:e.name})},e.name))}),(0,a.jsxs)("form",{onSubmit:f,className:"relative",children:[(0,a.jsx)("input",{type:"text",placeholder:"Buscar",value:s,onChange:e=>l(e.target.value),className:"py-1 pl-2 pr-8 border-b border-black focus:outline-none text-sm w-40"}),(0,a.jsx)("button",{type:"submit",className:"absolute right-0 top-1/2 transform -translate-y-1/2",children:(0,a.jsx)(c.A,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("div",{className:"md:hidden flex justify-between items-center py-4",children:[(0,a.jsx)("button",{onClick:()=>r(!e),"aria-label":"Toggle menu",children:e?(0,a.jsx)(d.A,{className:"h-6 w-6"}):(0,a.jsx)(m.A,{className:"h-6 w-6"})}),(0,a.jsxs)("form",{onSubmit:f,className:"relative",children:[(0,a.jsx)("input",{type:"text",placeholder:"Buscar",value:s,onChange:e=>l(e.target.value),className:"py-1 pl-2 pr-8 border-b border-black focus:outline-none text-sm w-32"}),(0,a.jsx)("button",{type:"submit",className:"absolute right-0 top-1/2 transform -translate-y-1/2",children:(0,a.jsx)(c.A,{className:"h-4 w-4"})})]})]}),e&&(0,a.jsx)("div",{className:"md:hidden py-4 border-t border-gray-200",children:(0,a.jsx)("ul",{className:"space-y-4",children:b.map(e=>(0,a.jsx)("li",{children:(0,a.jsx)(n(),{href:e.href,className:"block text-sm uppercase tracking-wider ".concat(h===e.href?"font-semibold":""),onClick:()=>r(!1),children:e.name})},e.name))})})]})})}},9524:(e,r,s)=>{Promise.resolve().then(s.bind(s,748)),Promise.resolve().then(s.bind(s,7969)),Promise.resolve().then(s.t.bind(s,6874,23))}},e=>{var r=r=>e(e.s=r);e.O(0,[721,441,684,358],()=>r(9524)),_N_E=e.O()}]);